{"version":3,"sources":["webpack:///task.min.js","webpack:///webpack/bootstrap c81416e7afaf5724bee6","webpack:///./src/client/index.js","webpack:///./src/client/isModern.js","webpack:///./src/client/functionToObjectURL.js","webpack:///./src/WorkerManager.js","webpack:///./~/process/browser.js","webpack:///./src/generateTaskFactoryMethod.js","webpack:///./src/client/WebWorker.js","webpack:///./src/GeneralWorker.js","webpack:///./src/client/CompatibilityWorker.js"],"names":["task","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_isModern","_isModern2","_WorkerManager","_WorkerManager2","_generateTaskFactoryMethod","_generateTaskFactoryMethod2","defaults","maxWorkers","navigator","hardwareConcurrency","WorkerProxy","WorkerManager","DefaultWorkerProxy","_functionToObjectURL","_functionToObjectURL2","Worker","window","URL","webkitURL","worker","terminate","error","func","blob","stringFunc","toString","substring","indexOf","lastIndexOf","Blob","type","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","createObjectURL","process","_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","constructor","prototype","$config","WorkerProxies","_this","this","decorate","target","key","wrap","_next","_taskTimeout","_reissueTasksInTimedoutWorkers","_queue","length","_getWorker","setTimeout","shift","_log","run","_onWorkerTaskComplete","_onWorkerExit","_workers","filter","item","tasks","forEach","push","$options","managerCount","workerType","e","Error","code","console","exit","_WorkerProxy","NodeWorkerThread","_logger","logger","log","_workerTaskConcurrency","workerTaskConcurrency","_maxWorkers","_idleTimeout","idleTimeout","taskTimeout","_idleCheckInterval","idleCheckInterval","_warmStart","warmStart","_globals","globals","_globalsInitializationFunction","initialize","_debug","debug","JSON","stringify","_workersInitializing","bind","_flushIdleWorkers","_totalWorkersCreated","_lastTaskTimeoutCheck","Date","i","_createWorker","message","getActiveWorkerCount","_idleCheckIntervalID","setInterval","arguments","function","Array","slice","taskCount","callback","Promise","resolve","reject","setGlobals","_runOnWorker","args","_ref","undefined","useTransferables","from","transferables","isArray","pop","clearInterval","_this2","some","startTime","forceExit","lastTaskTimestamp","_this3","idleWorkers","sort","a","b","workerId","managerId","onTaskComplete","onExit","globalsInitializationFunction","trim","then","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","Item","array","noop","nextTick","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","WorkerProxyOverride","config","Object","keys","_defaults","getOwnPropertyNames","value","getOwnPropertyDescriptor","configurable","defineProperty","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","enumerable","writable","setPrototypeOf","_GeneralWorker2","_GeneralWorker3","WebWorker","_GeneralWorker","WORKER_SOURCE","_onMessage","event","data","handleWorkerMessage","postMessage","options","_worker","addEventListener","GeneralWorker","handleWorkerExit","_onExitHandler","_onExit","kill","taskIndex","index","result","_onTaskComplete","splice","String","_purgeTasks","reason","_toConsumableArray","arr","arr2","CompatibilityWorker","_setTimeoutID","match","parseInt","map","functionBody","argNames","split","Function","stack"],"mappings":";AAAA,GAAIA,MACK,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDOM,SAAUI,EAAQD,EAASH,GAEhC,YAcA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GE7DxF,GAAAG,GAAAf,EAAA,GFmDKgB,EAAaL,EAAuBI,GElDzCE,EAAAjB,EAAA,GFsDKkB,EAAkBP,EAAuBM,GErD9CE,EAAAnB,EAAA,GFyDKoB,EAA8BT,EAAuBQ,GEvDpDE,GACLC,WAAYC,UAAUC,qBAGnBC,EAA2BzB,GAAb,EAAAgB,EAAAF,WAAqB,EAAyB,EAGhEV,GAAOD,QAAU,GAAIuB,WAAcL,GAAWM,mBAAoBF,IAGlErB,EAAOD,QAAQkB,UAAW,EAAAD,EAAAN,SAA0BO,GAAWM,mBAAoBF,GAAcC,YF+D3F,SAAUtB,EAAQD,EAASH,GAEhC,YAMA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GGrFxF,GAAAgB,GAAA5B,EAAA,GHmFK6B,EAAwBlB,EAAuBiB,EGjFpDxB,GAAOD,QAAU,WAChB,GAAqB,mBAAV2B,UAA0BC,OAAOC,KAAOD,OAAOE,WACzD,IACC,GAAIC,GAAS,GAAIJ,SAAO,EAAAD,EAAAf,SAAoB,cAE5C,OADAoB,GAAOC,aACA,EACN,MAAOC,IAGV,OAAO,IH0FF,SAAUhC,EAAQD,GAEvB,YIvGDC,GAAOD,QAAU,SAA8BkC,GAC9C,GAAIC,GACHC,EAAaF,EAAKG,UAEnBD,GAAaA,EAAWE,UAAUF,EAAWG,QAAQ,KAAO,EAAGH,EAAWI,YAAY,KAEtF,KACCL,EAAO,GAAIM,OAAML,IAAeM,KAAS,oBACxC,MAAOT,GACRL,OAAOe,YAAcf,OAAOe,aAAef,OAAOgB,mBAAqBhB,OAAOiB,eAC9EV,EAAO,GAAIQ,aACXR,EAAKW,OAAOV,GACZD,EAAOA,EAAKY,UAGb,OAAQnB,OAAOC,KAAOD,OAAOE,WAAWkB,gBAAgBb,KJ+GnD,SAAUlC,EAAQD,EAASH,IAEJ,SAASoD,GAAU,YAI/C,SAASC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAU/C,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAX8C,SAAyB9C,EAAIgD,cAAgBF,QAAU9C,IAAQ8C,OAAOG,UAAY,eAAkBjD,IKlIjQc,ELsIe,WKrIpB,QAAAA,GAAaoC,EAASC,GAAe,GAAAC,GAAAC,IAKpC,IALoCZ,EAAAY,KAAAvC,GAAAuC,KAsJrCC,SAAW,SAACC,EAAQC,GAEnB,MADAD,GAAOC,GAAOJ,EAAKK,KAAKF,EAAOC,IACxBD,GAxJ6BF,KA8LrCK,MAAQ,WAKP,GAJIN,EAAKO,cACRP,EAAKQ,iCAGDR,EAAKS,OAAOC,OAAjB,CAIA,GAAIxC,GAAS8B,EAAKW,YAElB,KAAKzC,EAEJ,WADA0C,YAAWZ,EAAKM,MAAO,EAIxB,IAAIxE,GAAOkE,EAAKS,OAAOI,OACvBb,GAAKc,KAAL,kBAA4BhF,EAAKO,GAAjC,iBAAoD6B,EAAO7B,GAA3D,KACA6B,EAAO6C,IAAIjF,KAhNyBmE,KAmNrCe,sBAAwB,WACvBhB,EAAKM,SApN+BL,KAuNrCgB,cAAgB,SAAC/C,GAChB8B,EAAKc,KAAL,+BAGAd,EAAKkB,SAAWlB,EAAKkB,SAASC,OAAO,SAAAC,GAAA,MAAQA,IAAQlD,IAGrDA,EAAOmD,MAAMC,QAAQ,SAAAxF,GACpBkE,EAAKS,OAAOc,KAAKzF,EAAK0F,YAIvBxB,EAAKM,SAlOLR,EAAUA,MAEVG,KAAK5D,KAAOqB,EAAc+D,aAEC,mBAAvB3B,EAAQ4B,WAAiC,CAC5C,IACC1F,GAAQ,cAAA2F,GAAA,GAAAC,OAAA,4CAAAD,GAAAE,KAAA,mBAAAF,MACP,MAAOvD,GACR0D,QAAQ1D,MAAM,sFACdgB,EAAQ2C,KAAK,GAEd9B,KAAK+B,aAAejC,EAAckC,qBAElChC,MAAK+B,aAAejC,EAAcpC,kBAwBnC,IArBAsC,KAAKiC,QAAUpC,EAAQqC,QAAUL,QAAQM,IAEzCnC,KAAKoC,wBAA0BvC,EAAQwC,uBAAyB,GAAK,EACrErC,KAAKsC,YAAczC,EAAQxC,YAAc,EACzC2C,KAAKuC,aAAe1C,EAAQ2C,eAAgB,GAAgB3C,EAAQ2C,YACpExC,KAAKM,aAAeT,EAAQ4C,aAAe,EAC3CzC,KAAK0C,mBAAqB7C,EAAQ8C,mBAAqB,IACvD3C,KAAK4C,WAAa/C,EAAQgD,YAAa,EACvC7C,KAAK8C,SAAWjD,EAAQkD,QACxB/C,KAAKgD,+BAAiCnD,EAAQoD,WAC9CjD,KAAKkD,OAASrD,EAAQsD,MACtBnD,KAAKa,KAAL,uBAAiCuC,KAAKC,UAAUxD,IAEhDG,KAAKiB,YACLjB,KAAKsD,wBACLtD,KAAKQ,UACLR,KAAKe,sBAAwBf,KAAKe,sBAAsBwC,KAAKvD,MAC7DA,KAAKwD,kBAAoBxD,KAAKwD,kBAAkBD,KAAKvD,MACrDA,KAAKyD,qBAAuB,EAC5BzD,KAAK0D,sBAAwB,GAAIC,MAE7B3D,KAAK4C,WAAY,CACpB5C,KAAKa,KAAL,wBAEA,KAAK,GAAI+C,GAAI,EAAGA,EAAI5D,KAAKsC,YAAasB,IACrC5D,KAAK6D,iBLwYP,MA1MApG,GAAcmC,UKtLfiB,KLsLgC,SKtL1BiD,GACD9D,KAAKkD,QACRlD,KAAKiC,QAAL,6BAA0CjC,KAAK5D,GAA/C,MAAuD0H,IL0LxDrG,EAAcmC,UKtLfmE,qBLsLgD,WKrL/C,MAAO/D,MAAKsD,qBAAqB7C,OAAST,KAAKiB,SAASR,QLyLxDhD,EAAcmC,UKtLfkB,ILsL+B,SKtL1BjF,GAKJ,GAJImE,KAAKuC,cAAqD,gBAA9BvC,MAAKgE,uBACpChE,KAAKgE,qBAAuBC,YAAYjE,KAAKwD,kBAAmBxD,KAAK0C,sBAGjE7G,EAAKqI,WAA8C,mBAA1BrI,GAAKqI,UAAUzD,OAC5C,KAAM,IAAIkB,OAAM,gFAGjB,KAAK9F,EAAKsI,WAAsC,kBAAlBtI,GAAKsI,UAAoD,gBAAlBtI,GAAKsI,UACzE,KAAM,IAAIxC,OAAM,kFAWjB,OAR8B,WAA1BnC,EAAO3D,EAAKqI,aACfrI,EAAKqI,UAAYE,MAAMxE,UAAUyE,MAAM/H,KAAKT,EAAKqI,YAGlDrI,EAAKO,KAAOqB,EAAc6G,UAE1BtE,KAAKa,KAAL,gBAA0BhF,EAAKO,GAA/B,kBAEKP,EAAK0I,UAQTvE,KAAKQ,OAAOc,KAAKzF,OACjBmE,MAAKK,SARE,GAAImE,SAAQ,SAAUC,EAASC,GACrC7I,EAAK4I,QAAUA,EACf5I,EAAK6I,OAASA,EACd1E,KAAKQ,OAAOc,KAAKzF,GACjBmE,KAAKK,SACJkD,KAAKvD,QL6LRvC,EAAcmC,UKtLf+E,WLsLsC,SKtL1B5B,GAEX/C,KAAKiB,SAASI,QAAQ,SAAUpD,GAC/BA,EAAOC,cAIR8B,KAAKiB,YAGLjB,KAAK8C,SAAWC,EAEhB/C,KAAKK,SLyLL5C,EAAcmC,UKtLfgF,aLsLwC,SKtL3B3G,EAAQ4G,EAAMzG,GAC1B,MAAO,IAAIoG,SAAS,SAAUC,EAASC,GACtCzG,EAAO6C,KACN1E,KAAMqB,EAAc6G,UACpBJ,UAAWW,EACXV,SAAU/F,EACVqG,QAASA,EACTC,OAAQA,OL2LVjH,EAAcmC,UKtLfQ,KLsLgC,SKtL1BhC,GAAsD,GAAA0G,GAAAZ,UAAAzD,OAAA,GAAAsE,SAAAb,UAAA,GAAAA,UAAA,IAA1Bc,kBAAkB,GAAvCA,EAA+CF,EAA/CE,gBACZ,OAAO,YACN,GAAIH,GAAOT,MAAMa,KAAKf,WACrBK,EAAW,KACXW,EAAgB,IAEjB,IAAIF,EAAkB,CAErB,GADAE,EAAgBL,EAAKR,OAAM,GAAI,IAC1BD,MAAMe,QAAQD,GAClB,KAAM,IAAIvD,OAAM,wEAEjBkD,GAAOA,EAAKR,MAAM,GAAG,GAStB,MANqC,kBAA1BQ,GAAKA,EAAKpE,OAAS,KAE7B8D,EAAWM,EAAKR,OAAM,GAAIe,MAC1BP,EAAOA,EAAKR,MAAM,GAAG,IAGfrE,KAAKc,KACXoD,UAAWW,EACXK,gBACAf,SAAU/F,EACVmG,cAEAhB,KAAKvD,OL4LPvC,EAAcmC,UKpLf1B,ULoLqC,WKnLpC8B,KAAKa,KAAL,cAGIb,KAAKuC,cAAoD,gBAA7BvC,MAAKgE,uBACpCqB,cAAcrF,KAAKgE,sBACnBhE,KAAKgE,qBAAuB,MAI7BhE,KAAKiB,SAASI,QAAQ,SAAUpD,GAC/BA,EAAOC,cAIR8B,KAAKiB,aLuLLxD,EAAcmC,UKpLfW,+BLoL0D,WKpLxB,GAAA+E,GAAAtF,IAC7B,IAAI2D,MAAU3D,KAAK0D,sBAAwB,MAI/C1D,KAAK0D,sBAAwB,GAAIC,MAEjC3D,KAAKiB,SAASI,QAAQ,SAAApD,GACrBA,EAAOmD,MAAMmE,KAAK,SAAA1J,GACjB,GAAI,GAAI8H,MAAS9H,EAAK2J,WAAaF,EAAKhF,aAEvC,MADArC,GAAOwH,aACA,QL4LVhI,EAAcmC,UK9If4D,kBL8I6C,WK7I5CxD,KAAKa,KAAL,yBACAb,KAAKiB,SAAWjB,KAAKiB,SAASC,OAAO,SAAUjD,GAC9C,QAA4B,IAAxBA,EAAOmD,MAAMX,QAAgB,GAAIkD,MAAS1F,EAAOyH,kBAAoB1F,KAAKuC,gBAC7EtE,EAAOC,aACA,IAIN8B,OLiJHvC,EAAcmC,UK9Ifc,WL8IsC,WK9IxB,GAAAiF,GAAA3F,KACT4F,EAAc5F,KAAKiB,SACrBC,OAAO,SAAAjD,GAAA,MAAUA,GAAOmD,MAAMX,QAAUkF,EAAKvD,yBAC7CyD,KAAK,SAACC,EAAGC,GAAJ,MAAUD,GAAE1E,MAAMX,OAASsF,EAAE3E,MAAMX,QAE1C,OAAImF,GAAYnF,OACRmF,EAAY,GACT5F,KAAKiB,SAASR,OAAST,KAAKsC,aAAoD,IAArCtC,KAAKsD,qBAAqB7C,OACxET,KAAK6D,gBAEL,MLsJRpG,EAAcmC,UKlJfiE,cLkJyC,WKjJxC,GAAImC,KAAahG,KAAKyD,qBAElBxF,EAAS,GAAI+B,MAAK+B,cACrBoB,MAAOnD,KAAKkD,OACZhB,OAAQlC,KAAKiC,QACb7F,GAAI4J,EACJC,UAAWjG,KAAK5D,GAChB8J,eAAgBlG,KAAKe,sBACrBoF,OAAQnG,KAAKgB,eAGd,IAAIhB,KAAKgD,gCAAkChD,KAAK8C,SAAU,CACzD9C,KAAKa,KAAL,qCACA,IAAIuF,IAAgC,0DAEpBpG,KAAKgD,gCAAkC,SAAUD,GAAU,MAAOA,KAAUxE,WAFxD,yCAIlC8H,MAOF,OALArG,MAAKsD,qBAAqBhC,KAAKrD,GAC/B+B,KAAK4E,aAAa3G,GAAS+B,KAAK8C,cAAiBsD,GAA+BE,KAAK,WACpFtG,KAAKsD,qBAAuBtD,KAAKsD,qBAAqBpC,OAAO,SAAAC,GAAA,MAAQA,IAAQlD,IAC7E+B,KAAKiB,SAASK,KAAKrD,IAClBsF,KAAKvD,OACA,KAGP,MADAA,MAAKiB,SAASK,KAAKrD,GACZA,GLsJDR,IKnbHA,GAgDE+D,aAAe,EAhDjB/D,EAiDE6G,UAAY,EAiPpBnI,EAAOD,QAAUuB,ILyJanB,KAAKJ,EAASH,EAAoB,KAI1D,SAAUI,EAAQD,GMpbxB,QAAAqK,KACA,SAAA5E,OAAA,mCAEA,QAAA6E,KACA,SAAA7E,OAAA,qCAsBA,QAAA8E,GAAAC,GACA,GAAAC,IAAAhG,WAEA,MAAAA,YAAA+F,EAAA,EAGA,KAAAC,IAAAJ,IAAAI,IAAAhG,WAEA,MADAgG,GAAAhG,WACAA,WAAA+F,EAAA,EAEA,KAEA,MAAAC,GAAAD,EAAA,GACK,MAAAhF,GACL,IAEA,MAAAiF,GAAArK,KAAA,KAAAoK,EAAA,GACS,MAAAhF,GAET,MAAAiF,GAAArK,KAAA0D,KAAA0G,EAAA,KAMA,QAAAE,GAAAC,GACA,GAAAC,IAAAC,aAEA,MAAAA,cAAAF,EAGA,KAAAC,IAAAN,IAAAM,IAAAC,aAEA,MADAD,GAAAC,aACAA,aAAAF,EAEA,KAEA,MAAAC,GAAAD,GACK,MAAAnF,GACL,IAEA,MAAAoF,GAAAxK,KAAA,KAAAuK,GACS,MAAAnF,GAGT,MAAAoF,GAAAxK,KAAA0D,KAAA6G,KAYA,QAAAG,KACAC,GAAAC,IAGAD,GAAA,EACAC,EAAAzG,OACA0G,EAAAD,EAAAE,OAAAD,GAEAE,GAAA,EAEAF,EAAA1G,QACA6G,KAIA,QAAAA,KACA,IAAAL,EAAA,CAGA,GAAAM,GAAAd,EAAAO,EACAC,IAAA,CAGA,KADA,GAAAO,GAAAL,EAAA1G,OACA+G,GAAA,CAGA,IAFAN,EAAAC,EACAA,OACAE,EAAAG,GACAN,GACAA,EAAAG,GAAAvG,KAGAuG,IAAA,EACAG,EAAAL,EAAA1G,OAEAyG,EAAA,KACAD,GAAA,EACAL,EAAAW,IAiBA,QAAAE,GAAAf,EAAAgB,GACA1H,KAAA0G,MACA1G,KAAA0H,QAYA,QAAAC,MAhKA,GAOAhB,GACAG,EARA3H,EAAAhD,EAAAD,YAgBA,WACA,IAEAyK,EADA,kBAAAhG,YACAA,WAEA4F,EAEK,MAAA7E,GACLiF,EAAAJ,EAEA,IAEAO,EADA,kBAAAC,cACAA,aAEAP,EAEK,MAAA9E,GACLoF,EAAAN,KAuDA,IAEAU,GAFAC,KACAF,GAAA,EAEAI,GAAA,CAyCAlI,GAAAyI,SAAA,SAAAlB,GACA,GAAA7B,GAAA,GAAAT,OAAAF,UAAAzD,OAAA,EACA,IAAAyD,UAAAzD,OAAA,EACA,OAAAmD,GAAA,EAAuBA,EAAAM,UAAAzD,OAAsBmD,IAC7CiB,EAAAjB,EAAA,GAAAM,UAAAN,EAGAuD,GAAA7F,KAAA,GAAAmG,GAAAf,EAAA7B,IACA,IAAAsC,EAAA1G,QAAAwG,GACAR,EAAAa,IASAG,EAAA7H,UAAAkB,IAAA,WACAd,KAAA0G,IAAAmB,MAAA,KAAA7H,KAAA0H,QAEAvI,EAAA2I,MAAA,UACA3I,EAAA4I,SAAA,EACA5I,EAAA6I,OACA7I,EAAA8I,QACA9I,EAAA+I,QAAA,GACA/I,EAAAgJ,YAIAhJ,EAAAiJ,GAAAT,EACAxI,EAAAkJ,YAAAV,EACAxI,EAAAmJ,KAAAX,EACAxI,EAAAoJ,IAAAZ,EACAxI,EAAAqJ,eAAAb,EACAxI,EAAAsJ,mBAAAd,EACAxI,EAAAuJ,KAAAf,EACAxI,EAAAwJ,gBAAAhB,EACAxI,EAAAyJ,oBAAAjB,EAEAxI,EAAA0J,UAAA,SAAAC,GAAqC,UAErC3J,EAAA4J,QAAA,SAAAD,GACA,SAAAnH,OAAA,qCAGAxC,EAAA6J,IAAA,WAA2B,WAC3B7J,EAAA8J,MAAA,SAAAC,GACA,SAAAvH,OAAA,mCAEAxC,EAAAgK,MAAA,WAA4B,WNsctB,SAAUhN,EAAQD,GAEvB,YO/nBDC,GAAOD,QAAU,SAAoCkB,EAAUI,EAAaC,GAC3E,MAAO,UAAUoC,EAASuJ,GACzB,GAAIC,KAQJ,OALAC,QAAOC,KAAKnM,GAAUiE,QAAQ,SAAAlB,GAAA,MAAOkJ,GAAOlJ,GAAO/C,EAAS+C,KAG5DmJ,OAAOC,KAAK1J,GAASwB,QAAQ,SAAAlB,GAAA,MAAOkJ,GAAOlJ,GAAON,EAAQM,KAEnD,GAAI1C,GAAc4L,EAAQD,GAAuB5L,MP2oBpD,SAAUrB,EAAQD,EAASH,GAEhC,YAUA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS6M,GAAU7M,EAAKS,GAA6D,IAAK,GAAlDmM,GAAOD,OAAOG,oBAAoBrM,GAAoBwG,EAAI,EAAGA,EAAI2F,EAAK9I,OAAQmD,IAAK,CAAE,GAAIzD,GAAMoJ,EAAK3F,GAAQ8F,EAAQJ,OAAOK,yBAAyBvM,EAAU+C,EAAUuJ,IAASA,EAAME,cAA6B7E,SAAbpI,EAAIwD,IAAsBmJ,OAAOO,eAAelN,EAAKwD,EAAKuJ,GAAY,MAAO/M,GAE5T,QAASyC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASuK,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI5K,WAAU,iEAAoE4K,GAAeD,GAAStK,UAAY0J,OAAOc,OAAOD,GAAcA,EAAWvK,WAAaD,aAAe+J,MAAOQ,EAAUG,YAAY,EAAOC,UAAU,EAAMV,cAAc,KAAeO,IAAYb,OAAOiB,eAAiBjB,OAAOiB,eAAeL,EAAUC,GAAcX,EAAUU,EAAUC,IQzqBje,GAAAxM,GAAA5B,EAAA,GR2pBK6B,EAAwBlB,EAAuBiB,GQ1pBpD6M,EAAAzO,EAAA,GR8pBK0O,EAAkB/N,EAAuB8N,GQ5pBxCE,ERwqBW,SAAUC,GQvqB1B,QAAAD,GAAa7K,GAAST,EAAAY,KAAA0K,EAAA,IAAA3K,GAAA+J,EAAA9J,KACrB2K,EAAA9C,MAAA7H,KAASkE,WADY,OAAAnE,GAStB6K,cATsB,86BAAA7K,EAuCtB8K,WAAa,SAACC,GACb,GAAIhH,GAAUgH,EAAMC,IACpBhL,GAAKiL,oBAAoBlH,IAzCJ/D,EA4CtBkL,YAAc,SAACnH,EAASoH,GACvBnL,EAAKc,KAAL,kBAA4BiD,EAAQ1H,GAApC,uBACA2D,EAAKoL,QAAQF,YAAYnH,EAASoH,IA9CbnL,EAiDtB7B,UAAY,WACX6B,EAAKc,KAAL,cACAd,EAAKoL,QAAQjN,aAhDb6B,EAAKoL,QAAU,GAAItN,SAAO,EAAAD,EAAAf,SAAoBkD,EAAK6K,gBACnD7K,EAAKoL,QAAQC,iBAAiB,UAAWrL,EAAK8K,YAE9C9K,EAAKc,KAAL,eANqBd,ERusBrB,MA/BAkK,GAAUS,EAAWC,GA+BdD,GQxsBeW,UAwDxBlP,GAAOD,QAAUwO,GRupBX,SAAUvO,EAAQD,GAEvB,YAEA,SAASkD,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,GSxtBK8L,GTwtBe,WSvtBpB,QAAAA,GAAaxL,GAAS,GAAAE,GAAAC,IAAAZ,GAAAY,KAAAqL,GAAArL,KAmBtBsL,iBAAmB,WAClBvL,EAAKc,KAAK,UACVd,EAAKwL,eAAexL,IArBCC,KAwBtByF,UAAY,WACX1F,EAAKyL,UACLzL,EAAKoL,QAAQM,QA1BQzL,KA6BtBgL,oBAAsB,SAAClH,GACtB,GAAI4H,GAAY,IAShB,IAPA3L,EAAKqB,MAAMmE,KAAK,SAAU1J,EAAM8P,GAC/B,GAAI7H,EAAQ1H,KAAOP,EAAKO,GAEvB,MADAsP,GAAYC,GACL,IAIS,OAAdD,EAAoB,CACvB,GAAI7P,GAAOkE,EAAKqB,MAAMsK,EAClB5H,GAAQ3F,OACX4B,EAAKc,KAAL,UAAoBhF,EAAKO,GAAzB,yBAAoD0H,EAAQ3F,OACxDtC,EAAK0I,SACR1I,EAAK0I,SAAS,GAAI5C,OAAJ,YAAsBmC,EAAQ3F,QAE5CtC,EAAK6I,OAAO,GAAI/C,OAAJ,YAAsBmC,EAAQ3F,UAG3C4B,EAAKc,KAAL,UAAoBhF,EAAKO,GAAzB,mBACIP,EAAK0I,SACR1I,EAAK0I,SAAS,KAAMT,EAAQ8H,QAE5B/P,EAAK4I,QAAQX,EAAQ8H,SAGvB7L,EAAK8L,gBAAgB9L,GACrBA,EAAKqB,MAAM0K,OAAOJ,EAAW,KAxD9B1L,KAAK5D,GAAKyD,EAAQzD,GAClB4D,KAAKiG,UAAYpG,EAAQoG,UACzBjG,KAAKkD,OAASrD,EAAQsD,MACtBnD,KAAKiC,QAAUpC,EAAQqC,OAEvBlC,KAAKoB,SACLpB,KAAK0F,kBAAoB,KAEzB1F,KAAK6L,gBAAkBhM,EAAQqG,eAC/BlG,KAAKuL,eAAiB1L,EAAQsG,OTqzB9B,MA5CAkF,GAAczL,UStwBfiB,KTswBgC,SStwB1BiD,GACD9D,KAAKkD,QACRlD,KAAKiC,QAAL,4BAAyCjC,KAAKiG,UAA9C,cAAqEjG,KAAK5D,GAA1E,OAAmF0H,IT0wBpFuH,EAAczL,US5tBfkB,IT4tB+B,SS5tB1BS,GACJvB,KAAK0F,kBAAoB,GAAI/B,KAE7B,IAAI9H,IACHO,GAAImF,EAASnF,GACboJ,UAAW,GAAI7B,MACfc,QAASlD,EAASkD,QAClBC,OAAQnD,EAASmD,OACjBH,SAAUhD,EAASgD,SACnBhD,SAAUA,EAGXvB,MAAKoB,MAAME,KAAKzF,EAEhB,IAAIiI,IACH1H,GAAIP,EAAKO,GACTgC,KAAM2N,OAAOxK,EAAS4C,UAIvBmF,QAAOC,KAAKhI,EAAS2C,WAAW7C,QAAQ,SAAUlB,EAAKwL,GACtD7H,EAAQ,WAAa6H,GAASpK,EAAS2C,UAAUyH,KAGlD3L,KAAKiL,YAAYnH,EAASvC,EAAS2D,gBT+tBnCmG,EAAczL,US5tBfoM,YT4tBuC,SS5tB3BC,GACXjM,KAAKoB,MAAMC,QAAQ,SAAAxF,GACdA,EAAK0I,SACR1I,EAAK0I,SAAS0H,GAEdpQ,EAAK6I,OAAOuH,KAGdjM,KAAKoB,UT+tBEiK,IS3tBTlP,GAAOD,QAAUmP,GTkuBX,SAAUlP,EAAQD,EAASH,GAEhC,YAMA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS6M,GAAU7M,EAAKS,GAA6D,IAAK,GAAlDmM,GAAOD,OAAOG,oBAAoBrM,GAAoBwG,EAAI,EAAGA,EAAI2F,EAAK9I,OAAQmD,IAAK,CAAE,GAAIzD,GAAMoJ,EAAK3F,GAAQ8F,EAAQJ,OAAOK,yBAAyBvM,EAAU+C,EAAUuJ,IAASA,EAAME,cAA6B7E,SAAbpI,EAAIwD,IAAsBmJ,OAAOO,eAAelN,EAAKwD,EAAKuJ,GAAY,MAAO/M,GAE5T,QAASuP,GAAmBC,GAAO,GAAI/H,MAAMe,QAAQgH,GAAM,CAAE,IAAK,GAAIvI,GAAI,EAAGwI,EAAOhI,MAAM+H,EAAI1L,QAASmD,EAAIuI,EAAI1L,OAAQmD,IAAOwI,EAAKxI,GAAKuI,EAAIvI,EAAM,OAAOwI,GAAe,MAAOhI,OAAMa,KAAKkH,GAE1L,QAAS/M,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASuK,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI5K,WAAU,iEAAoE4K,GAAeD,GAAStK,UAAY0J,OAAOc,OAAOD,GAAcA,EAAWvK,WAAaD,aAAe+J,MAAOQ,EAAUG,YAAY,EAAOC,UAAU,EAAMV,cAAc,KAAeO,IAAYb,OAAOiB,eAAiBjB,OAAOiB,eAAeL,EAAUC,GAAcX,EAAUU,EAAUC,IUz1Bje,GAAAK,GAAAzO,EAAA,GV60BK0O,EAAkB/N,EAAuB8N,GU30BxC6B,EVy1BqB,SAAU1B,GUx1BpC,QAAA0B,KAAejN,EAAAY,KAAAqM,EAAA,IAAAtM,GAAA+J,EAAA9J,KACd2K,EAAA9C,MAAA7H,KAASkE,WADK,OAAAnE,GAMfkL,YAAc,SAACnH,EAASoH,GAEvBnL,EAAKuM,cAAgB3L,WAAW,WAC/B,GAAIkE,GAAOyE,OAAOC,KAAKzF,GAAS5C,OAAO,SAAUf,GAChD,MAAOA,GAAIoM,MAAM,eACf1G,KAAK,SAAUC,EAAGC,GACpB,MAAOyG,UAAS1G,EAAEzB,MAAM,GAAI,IAAMmI,SAASzG,EAAE1B,MAAM,GAAI,MACrDoI,IAAI,SAAUtM,GAChB,MAAO2D,GAAQ3D,KAGZuM,EAAe5I,EAAQ1F,KAAKI,UAAUsF,EAAQ1F,KAAKK,QAAQ,KAAO,EAAGqF,EAAQ1F,KAAKM,YAAY,MACjGiO,EAAW7I,EAAQ1F,KAAKI,UAAUsF,EAAQ1F,KAAKK,QAAQ,KAAO,EAAGqF,EAAQ1F,KAAKK,QAAQ,MAAMmO,MAAM,KAE/FxO,oCAAYyO,UAAZ,MAAAzF,OAAA8E,EAAwBS,IAAUD,KAGtC,KACC,GAAId,GAASxN,iBAAQyG,GACrB9E,GAAKiL,qBAAqB5O,GAAI0H,EAAQ1H,GAAIwP,OAAQA,IACjD,MAAOzN,GACR4B,EAAKiL,qBAAqB5O,GAAI0H,EAAQ1H,GAAI+B,MAASA,EAAM2O,UAExD,IA7BW/M,EAgCf7B,UAAY,WACX6I,aAAahH,EAAKuM,eAClBvM,EAAKuM,cAAgB,MA/BrBvM,EAAKuM,cAAgB,KAHPvM,EVm4Bd,MA1CAkK,GAAUoC,EAAqB1B,GA0CxB0B,GUp4ByBhB,UAuClClP,GAAOD,QAAUmQ","file":"task.min.js","sourcesContent":["var task =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _isModern = __webpack_require__(1);\n\t\n\tvar _isModern2 = _interopRequireDefault(_isModern);\n\t\n\tvar _WorkerManager = __webpack_require__(3);\n\t\n\tvar _WorkerManager2 = _interopRequireDefault(_WorkerManager);\n\t\n\tvar _generateTaskFactoryMethod = __webpack_require__(5);\n\t\n\tvar _generateTaskFactoryMethod2 = _interopRequireDefault(_generateTaskFactoryMethod);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar defaults = {\n\t\tmaxWorkers: navigator.hardwareConcurrency\n\t};\n\t\n\tvar WorkerProxy = (0, _isModern2.default)() ? __webpack_require__(6) : __webpack_require__(8);\n\t\n\t// expose default instance directly\n\tmodule.exports = new _WorkerManager2.default(defaults, { DefaultWorkerProxy: WorkerProxy });\n\t\n\t// allow custom settings (task.js factory)\n\tmodule.exports.defaults = (0, _generateTaskFactoryMethod2.default)(defaults, { DefaultWorkerProxy: WorkerProxy }, _WorkerManager2.default);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _functionToObjectURL = __webpack_require__(2);\n\t\n\tvar _functionToObjectURL2 = _interopRequireDefault(_functionToObjectURL);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = function isModern() {\n\t\tif (typeof Worker != 'undefined' && (window.URL || window.webkitURL)) {\n\t\t\ttry {\n\t\t\t\tvar worker = new Worker((0, _functionToObjectURL2.default)(function () {}));\n\t\t\t\tworker.terminate();\n\t\t\t\treturn true;\n\t\t\t} catch (error) {}\n\t\t}\n\t\n\t\treturn false;\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function functionToObjectURL(func) {\n\t\tvar blob,\n\t\t    stringFunc = func.toString();\n\t\n\t\tstringFunc = stringFunc.substring(stringFunc.indexOf('{') + 1, stringFunc.lastIndexOf('}'));\n\t\n\t\ttry {\n\t\t\tblob = new Blob([stringFunc], { 'type': 'text/javascript' });\n\t\t} catch (error) {\n\t\t\t// Backwards-compatibility\n\t\t\twindow.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n\t\t\tblob = new BlobBuilder();\n\t\t\tblob.append(stringFunc);\n\t\t\tblob = blob.getBlob();\n\t\t}\n\t\n\t\treturn (window.URL || window.webkitURL).createObjectURL(blob);\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WorkerManager = function () {\n\t\tfunction WorkerManager($config, WorkerProxies) {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, WorkerManager);\n\t\n\t\t\tthis.decorate = function (target, key) {\n\t\t\t\ttarget[key] = _this.wrap(target[key]);\n\t\t\t\treturn target;\n\t\t\t};\n\t\n\t\t\tthis._next = function () {\n\t\t\t\tif (_this._taskTimeout) {\n\t\t\t\t\t_this._reissueTasksInTimedoutWorkers();\n\t\t\t\t}\n\t\n\t\t\t\tif (!_this._queue.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar worker = _this._getWorker();\n\t\n\t\t\t\tif (!worker) {\n\t\t\t\t\tsetTimeout(_this._next, 0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tvar task = _this._queue.shift();\n\t\t\t\t_this._log('sending taskId(' + task.id + ') to workerId(' + worker.id + ')');\n\t\t\t\tworker.run(task);\n\t\t\t};\n\t\n\t\t\tthis._onWorkerTaskComplete = function () {\n\t\t\t\t_this._next();\n\t\t\t};\n\t\n\t\t\tthis._onWorkerExit = function (worker) {\n\t\t\t\t_this._log('worker died, reissuing task');\n\t\n\t\t\t\t// purge dead worker from pool\n\t\t\t\t_this._workers = _this._workers.filter(function (item) {\n\t\t\t\t\treturn item != worker;\n\t\t\t\t});\n\t\n\t\t\t\t// add work back to queue\n\t\t\t\tworker.tasks.forEach(function (task) {\n\t\t\t\t\t_this._queue.push(task.$options);\n\t\t\t\t});\n\t\n\t\t\t\t// run tick\n\t\t\t\t_this._next();\n\t\t\t};\n\t\n\t\t\t$config = $config || {};\n\t\n\t\t\tthis.id = ++WorkerManager.managerCount;\n\t\n\t\t\tif ($config.workerType === 'worker_threads') {\n\t\t\t\ttry {\n\t\t\t\t\t__webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"worker_threads\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Your current version, or configuration of Node.js does not support worker_threads.');\n\t\t\t\t\tprocess.exit(1);\n\t\t\t\t}\n\t\t\t\tthis._WorkerProxy = WorkerProxies.NodeWorkerThread;\n\t\t\t} else {\n\t\t\t\tthis._WorkerProxy = WorkerProxies.DefaultWorkerProxy;\n\t\t\t}\n\t\n\t\t\tthis._logger = $config.logger || console.log;\n\t\n\t\t\tthis._workerTaskConcurrency = ($config.workerTaskConcurrency || 1) - 1;\n\t\t\tthis._maxWorkers = $config.maxWorkers || 4;\n\t\t\tthis._idleTimeout = $config.idleTimeout === false ? false : $config.idleTimeout;\n\t\t\tthis._taskTimeout = $config.taskTimeout || 0;\n\t\t\tthis._idleCheckInterval = $config.idleCheckInterval || 1000;\n\t\t\tthis._warmStart = $config.warmStart || false;\n\t\t\tthis._globals = $config.globals;\n\t\t\tthis._globalsInitializationFunction = $config.initialize;\n\t\t\tthis._debug = $config.debug;\n\t\t\tthis._log('creating new pool : ' + JSON.stringify($config));\n\t\n\t\t\tthis._workers = [];\n\t\t\tthis._workersInitializing = [];\n\t\t\tthis._queue = [];\n\t\t\tthis._onWorkerTaskComplete = this._onWorkerTaskComplete.bind(this);\n\t\t\tthis._flushIdleWorkers = this._flushIdleWorkers.bind(this);\n\t\t\tthis._totalWorkersCreated = 0;\n\t\t\tthis._lastTaskTimeoutCheck = new Date();\n\t\n\t\t\tif (this._warmStart) {\n\t\t\t\tthis._log('warm starting workers');\n\t\n\t\t\t\tfor (var i = 0; i < this._maxWorkers; i++) {\n\t\t\t\t\tthis._createWorker();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tWorkerManager.prototype._log = function _log(message) {\n\t\t\tif (this._debug) {\n\t\t\t\tthis._logger('task.js:manager[managerId(' + this.id + ')] ' + message);\n\t\t\t}\n\t\t};\n\t\n\t\tWorkerManager.prototype.getActiveWorkerCount = function getActiveWorkerCount() {\n\t\t\treturn this._workersInitializing.length + this._workers.length;\n\t\t};\n\t\n\t\tWorkerManager.prototype.run = function run(task) {\n\t\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID !== 'number') {\n\t\t\t\tthis._idleCheckIntervalID = setInterval(this._flushIdleWorkers, this._idleCheckInterval);\n\t\t\t}\n\t\n\t\t\tif (!task.arguments || typeof task.arguments.length === 'undefined') {\n\t\t\t\tthrow new Error('task.js: \"arguments\" is required property, and it must be an array/array-like');\n\t\t\t}\n\t\n\t\t\tif (!task.function && (typeof task.function !== 'function' || typeof task.function !== 'string')) {\n\t\t\t\tthrow new Error('task.js: \"function\" is required property, and it must be a string or a function');\n\t\t\t}\n\t\n\t\t\tif (_typeof(task.arguments) === 'object') {\n\t\t\t\ttask.arguments = Array.prototype.slice.call(task.arguments);\n\t\t\t}\n\t\n\t\t\ttask.id = ++WorkerManager.taskCount;\n\t\n\t\t\tthis._log('added taskId(' + task.id + ') to the queue');\n\t\n\t\t\tif (!task.callback) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\ttask.resolve = resolve;\n\t\t\t\t\ttask.reject = reject;\n\t\t\t\t\tthis._queue.push(task);\n\t\t\t\t\tthis._next();\n\t\t\t\t}.bind(this));\n\t\t\t} else {\n\t\t\t\tthis._queue.push(task);\n\t\t\t\tthis._next();\n\t\t\t}\n\t\t};\n\t\n\t\tWorkerManager.prototype.setGlobals = function setGlobals(globals) {\n\t\t\t// terminate all existing workers\n\t\t\tthis._workers.forEach(function (worker) {\n\t\t\t\tworker.terminate();\n\t\t\t});\n\t\n\t\t\t// flush worker pool\n\t\t\tthis._workers = [];\n\t\n\t\t\t// replace globals\n\t\t\tthis._globals = globals;\n\t\n\t\t\tthis._next();\n\t\t};\n\t\n\t\tWorkerManager.prototype._runOnWorker = function _runOnWorker(worker, args, func) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tworker.run({\n\t\t\t\t\tid: ++WorkerManager.taskCount,\n\t\t\t\t\targuments: args,\n\t\t\t\t\tfunction: func,\n\t\t\t\t\tresolve: resolve,\n\t\t\t\t\treject: reject\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\n\t\tWorkerManager.prototype.wrap = function wrap(func) {\n\t\t\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { useTransferables: false },\n\t\t\t    useTransferables = _ref.useTransferables;\n\t\n\t\t\treturn function () {\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\t    callback = null,\n\t\t\t\t    transferables = null;\n\t\n\t\t\t\tif (useTransferables) {\n\t\t\t\t\ttransferables = args.slice(-1)[0];\n\t\t\t\t\tif (!Array.isArray(transferables)) {\n\t\t\t\t\t\tthrow new Error('Task expects to be passed a transferables array as its last argument.');\n\t\t\t\t\t}\n\t\t\t\t\targs = args.slice(0, -1);\n\t\t\t\t}\n\t\n\t\t\t\tif (typeof args[args.length - 1] === 'function') {\n\t\t\t\t\t// apparently splice is broken in ie8\n\t\t\t\t\tcallback = args.slice(-1).pop();\n\t\t\t\t\targs = args.slice(0, -1);\n\t\t\t\t}\n\t\n\t\t\t\treturn this.run({\n\t\t\t\t\targuments: args,\n\t\t\t\t\ttransferables: transferables,\n\t\t\t\t\tfunction: func,\n\t\t\t\t\tcallback: callback\n\t\t\t\t});\n\t\t\t}.bind(this);\n\t\t};\n\t\n\t\tWorkerManager.prototype.terminate = function terminate() {\n\t\t\tthis._log('terminated');\n\t\n\t\t\t// kill idle timeout (if it exists)\n\t\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID == 'number') {\n\t\t\t\tclearInterval(this._idleCheckIntervalID);\n\t\t\t\tthis._idleCheckIntervalID = null;\n\t\t\t}\n\t\n\t\t\t// terminate all existing workers\n\t\t\tthis._workers.forEach(function (worker) {\n\t\t\t\tworker.terminate();\n\t\t\t});\n\t\n\t\t\t// flush worker pool\n\t\t\tthis._workers = [];\n\t\t};\n\t\n\t\tWorkerManager.prototype._reissueTasksInTimedoutWorkers = function _reissueTasksInTimedoutWorkers() {\n\t\t\tvar _this2 = this;\n\t\n\t\t\tif (new Date() - this._lastTaskTimeoutCheck < 5000) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tthis._lastTaskTimeoutCheck = new Date();\n\t\n\t\t\tthis._workers.forEach(function (worker) {\n\t\t\t\tworker.tasks.some(function (task) {\n\t\t\t\t\tif (new Date() - task.startTime >= _this2._taskTimeout) {\n\t\t\t\t\t\tworker.forceExit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\n\t\tWorkerManager.prototype._flushIdleWorkers = function _flushIdleWorkers() {\n\t\t\tthis._log('flushing idle workers');\n\t\t\tthis._workers = this._workers.filter(function (worker) {\n\t\t\t\tif (worker.tasks.length === 0 && new Date() - worker.lastTaskTimestamp > this._idleTimeout) {\n\t\t\t\t\tworker.terminate();\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}, this);\n\t\t};\n\t\n\t\tWorkerManager.prototype._getWorker = function _getWorker() {\n\t\t\tvar _this3 = this;\n\t\n\t\t\tvar idleWorkers = this._workers.filter(function (worker) {\n\t\t\t\treturn worker.tasks.length <= _this3._workerTaskConcurrency;\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn a.tasks.length - b.tasks.length;\n\t\t\t});\n\t\n\t\t\tif (idleWorkers.length) {\n\t\t\t\treturn idleWorkers[0];\n\t\t\t} else if (this._workers.length < this._maxWorkers && this._workersInitializing.length === 0) {\n\t\t\t\treturn this._createWorker();\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t\n\t\tWorkerManager.prototype._createWorker = function _createWorker() {\n\t\t\tvar workerId = ++this._totalWorkersCreated;\n\t\n\t\t\tvar worker = new this._WorkerProxy({\n\t\t\t\tdebug: this._debug,\n\t\t\t\tlogger: this._logger,\n\t\t\t\tid: workerId,\n\t\t\t\tmanagerId: this.id,\n\t\t\t\tonTaskComplete: this._onWorkerTaskComplete,\n\t\t\t\tonExit: this._onWorkerExit\n\t\t\t});\n\t\n\t\t\tif (this._globalsInitializationFunction || this._globals) {\n\t\t\t\tthis._log('running global initialization code');\n\t\t\t\tvar globalsInitializationFunction = ('\\n\\t\\t\\t\\tfunction (_globals) {\\n\\t\\t\\t\\t\\tglobals = (' + (this._globalsInitializationFunction || function (globals) {\n\t\t\t\t\treturn globals;\n\t\t\t\t}).toString() + ')(_globals || {});\\n\\t\\t\\t\\t}\\n\\t\\t\\t').trim();\n\t\n\t\t\t\tthis._workersInitializing.push(worker);\n\t\t\t\tthis._runOnWorker(worker, [this._globals || {}], globalsInitializationFunction).then(function () {\n\t\t\t\t\tthis._workersInitializing = this._workersInitializing.filter(function (item) {\n\t\t\t\t\t\treturn item != worker;\n\t\t\t\t\t});\n\t\t\t\t\tthis._workers.push(worker);\n\t\t\t\t}.bind(this));\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tthis._workers.push(worker);\n\t\t\t\treturn worker;\n\t\t\t}\n\t\t};\n\t\n\t\treturn WorkerManager;\n\t}();\n\t\n\tWorkerManager.managerCount = 0;\n\tWorkerManager.taskCount = 0;\n\t\n\t\n\tmodule.exports = WorkerManager;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function generateTaskFactoryMethod(defaults, WorkerProxy, WorkerManager) {\n\t\treturn function ($config, WorkerProxyOverride) {\n\t\t\tvar config = {};\n\t\n\t\t\t// clone defaults\n\t\t\tObject.keys(defaults).forEach(function (key) {\n\t\t\t\treturn config[key] = defaults[key];\n\t\t\t});\n\t\n\t\t\t// apply user settings\n\t\t\tObject.keys($config).forEach(function (key) {\n\t\t\t\treturn config[key] = $config[key];\n\t\t\t});\n\t\n\t\t\treturn new WorkerManager(config, WorkerProxyOverride || WorkerProxy);\n\t\t};\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _functionToObjectURL = __webpack_require__(2);\n\t\n\tvar _functionToObjectURL2 = _interopRequireDefault(_functionToObjectURL);\n\t\n\tvar _GeneralWorker2 = __webpack_require__(7);\n\t\n\tvar _GeneralWorker3 = _interopRequireDefault(_GeneralWorker2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar WebWorker = function (_GeneralWorker) {\n\t\t_inherits(WebWorker, _GeneralWorker);\n\t\n\t\tfunction WebWorker($config) {\n\t\t\t_classCallCheck(this, WebWorker);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, _GeneralWorker.apply(this, arguments));\n\t\n\t\t\t_this.WORKER_SOURCE = 'function () {\\n\\t\\tonmessage = function (event) {\\n\\t\\t\\tvar message = event.data;\\n\\n\\t\\t\\tvar args = Object.keys(message).filter(function (key) {\\n\\t\\t\\t\\treturn key.match(/^argument/);\\n\\t\\t\\t}).sort(function (a, b) {\\n\\t\\t\\t\\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\\n\\t\\t\\t}).map(function (key) {\\n\\t\\t\\t\\treturn message[key];\\n\\t\\t\\t});\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tvar result = eval(\\'(\\' + message.func + \\')\\').apply(null, args);\\n\\n\\t\\t\\t\\tif (typeof Promise != \\'undefined\\' && result instanceof Promise) {\\n\\t\\t\\t\\t\\tresult.then(function (result) {\\n\\t\\t\\t\\t\\t\\tpostMessage({id: message.id, result: result});\\n\\t\\t\\t\\t\\t}).catch(function (error) {\\n\\t\\t\\t\\t\\t\\tpostMessage({id: message.id, error: error.stack});\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tpostMessage({id: message.id, result: result});\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tpostMessage({id: message.id, error: error.stack});\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}';\n\t\n\t\t\t_this._onMessage = function (event) {\n\t\t\t\tvar message = event.data;\n\t\t\t\t_this.handleWorkerMessage(message);\n\t\t\t};\n\t\n\t\t\t_this.postMessage = function (message, options) {\n\t\t\t\t_this._log('sending taskId(' + message.id + ') to worker process');\n\t\t\t\t_this._worker.postMessage(message, options);\n\t\t\t};\n\t\n\t\t\t_this.terminate = function () {\n\t\t\t\t_this._log('terminated');\n\t\t\t\t_this._worker.terminate();\n\t\t\t};\n\t\n\t\t\t_this._worker = new Worker((0, _functionToObjectURL2.default)(_this.WORKER_SOURCE));\n\t\t\t_this._worker.addEventListener('message', _this._onMessage);\n\t\n\t\t\t_this._log('initialized');\n\t\t\treturn _this;\n\t\t}\n\t\n\t\treturn WebWorker;\n\t}(_GeneralWorker3.default);\n\t\n\tmodule.exports = WebWorker;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar GeneralWorker = function () {\n\t\tfunction GeneralWorker($config) {\n\t\t\tvar _this = this;\n\t\n\t\t\t_classCallCheck(this, GeneralWorker);\n\t\n\t\t\tthis.handleWorkerExit = function () {\n\t\t\t\t_this._log('killed');\n\t\t\t\t_this._onExitHandler(_this);\n\t\t\t};\n\t\n\t\t\tthis.forceExit = function () {\n\t\t\t\t_this._onExit();\n\t\t\t\t_this._worker.kill();\n\t\t\t};\n\t\n\t\t\tthis.handleWorkerMessage = function (message) {\n\t\t\t\tvar taskIndex = null;\n\t\n\t\t\t\t_this.tasks.some(function (task, index) {\n\t\t\t\t\tif (message.id === task.id) {\n\t\t\t\t\t\ttaskIndex = index;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tif (taskIndex !== null) {\n\t\t\t\t\tvar task = _this.tasks[taskIndex];\n\t\t\t\t\tif (message.error) {\n\t\t\t\t\t\t_this._log('taskId(' + task.id + ') has thrown an error ' + message.error);\n\t\t\t\t\t\tif (task.callback) {\n\t\t\t\t\t\t\ttask.callback(new Error('task.js: ' + message.error));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttask.reject(new Error('task.js: ' + message.error));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this._log('taskId(' + task.id + ') has completed');\n\t\t\t\t\t\tif (task.callback) {\n\t\t\t\t\t\t\ttask.callback(null, message.result);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttask.resolve(message.result);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_this._onTaskComplete(_this);\n\t\t\t\t\t_this.tasks.splice(taskIndex, 1);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\tthis.id = $config.id;\n\t\t\tthis.managerId = $config.managerId;\n\t\t\tthis._debug = $config.debug;\n\t\t\tthis._logger = $config.logger;\n\t\n\t\t\tthis.tasks = [];\n\t\t\tthis.lastTaskTimestamp = null;\n\t\n\t\t\tthis._onTaskComplete = $config.onTaskComplete;\n\t\t\tthis._onExitHandler = $config.onExit;\n\t\t}\n\t\n\t\tGeneralWorker.prototype._log = function _log(message) {\n\t\t\tif (this._debug) {\n\t\t\t\tthis._logger('task.js:worker[managerId(' + this.managerId + ') workerId(' + this.id + ')]: ' + message);\n\t\t\t}\n\t\t};\n\t\n\t\tGeneralWorker.prototype.run = function run($options) {\n\t\t\tthis.lastTaskTimestamp = new Date();\n\t\n\t\t\tvar task = {\n\t\t\t\tid: $options.id,\n\t\t\t\tstartTime: new Date(),\n\t\t\t\tresolve: $options.resolve,\n\t\t\t\treject: $options.reject,\n\t\t\t\tcallback: $options.callback,\n\t\t\t\t$options: $options\n\t\t\t};\n\t\n\t\t\tthis.tasks.push(task);\n\t\n\t\t\tvar message = {\n\t\t\t\tid: task.id,\n\t\t\t\tfunc: String($options.function)\n\t\t\t};\n\t\n\t\t\t// because of transferables (we want to keep this object flat)\n\t\t\tObject.keys($options.arguments).forEach(function (key, index) {\n\t\t\t\tmessage['argument' + index] = $options.arguments[index];\n\t\t\t});\n\t\n\t\t\tthis.postMessage(message, $options.transferables);\n\t\t};\n\t\n\t\tGeneralWorker.prototype._purgeTasks = function _purgeTasks(reason) {\n\t\t\tthis.tasks.forEach(function (task) {\n\t\t\t\tif (task.callback) {\n\t\t\t\t\ttask.callback(reason);\n\t\t\t\t} else {\n\t\t\t\t\ttask.reject(reason);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.tasks = [];\n\t\t};\n\t\n\t\treturn GeneralWorker;\n\t}();\n\t\n\tmodule.exports = GeneralWorker;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _GeneralWorker2 = __webpack_require__(7);\n\t\n\tvar _GeneralWorker3 = _interopRequireDefault(_GeneralWorker2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar CompatibilityWorker = function (_GeneralWorker) {\n\t\t_inherits(CompatibilityWorker, _GeneralWorker);\n\t\n\t\tfunction CompatibilityWorker() {\n\t\t\t_classCallCheck(this, CompatibilityWorker);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, _GeneralWorker.apply(this, arguments));\n\t\n\t\t\t_this.postMessage = function (message, options) {\n\t\t\t\t// toss it out of the event loop\n\t\t\t\t_this._setTimeoutID = setTimeout(function () {\n\t\t\t\t\tvar args = Object.keys(message).filter(function (key) {\n\t\t\t\t\t\treturn key.match(/^argument/);\n\t\t\t\t\t}).sort(function (a, b) {\n\t\t\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t\t\t}).map(function (key) {\n\t\t\t\t\t\treturn message[key];\n\t\t\t\t\t});\n\t\n\t\t\t\t\tvar functionBody = message.func.substring(message.func.indexOf('{') + 1, message.func.lastIndexOf('}')),\n\t\t\t\t\t    argNames = message.func.substring(message.func.indexOf('(') + 1, message.func.indexOf(')')).split(',');\n\t\n\t\t\t\t\tvar func = new (Function.prototype.bind.apply(Function, [null].concat(_toConsumableArray(argNames), [functionBody])))();\n\t\n\t\t\t\t\t// we cant use eval\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar result = func.apply(undefined, _toConsumableArray(args));\n\t\t\t\t\t\t_this.handleWorkerMessage({ id: message.id, result: result });\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t_this.handleWorkerMessage({ id: message.id, 'error': error.stack });\n\t\t\t\t\t}\n\t\t\t\t}, 1);\n\t\t\t};\n\t\n\t\t\t_this.terminate = function () {\n\t\t\t\tclearTimeout(_this._setTimeoutID);\n\t\t\t\t_this._setTimeoutID = null;\n\t\t\t};\n\t\n\t\t\t_this._setTimeoutID = null;\n\t\t\treturn _this;\n\t\t}\n\t\n\t\treturn CompatibilityWorker;\n\t}(_GeneralWorker3.default);\n\t\n\tmodule.exports = CompatibilityWorker;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// task.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c81416e7afaf5724bee6","import isModern from './isModern';\nimport WorkerManager from '../WorkerManager';\nimport generateTaskFactoryMethod from '../generateTaskFactoryMethod';\n\nconst defaults = {\n\tmaxWorkers: navigator.hardwareConcurrency\n};\n\nvar WorkerProxy = isModern() ? require('./WebWorker') : require('./CompatibilityWorker');\n\n// expose default instance directly\nmodule.exports = new WorkerManager(defaults, {DefaultWorkerProxy: WorkerProxy});\n\n// allow custom settings (task.js factory)\nmodule.exports.defaults = generateTaskFactoryMethod(defaults, {DefaultWorkerProxy: WorkerProxy}, WorkerManager);\n\n\n// WEBPACK FOOTER //\n// ./src/client/index.js","import functionToObjectURL from './functionToObjectURL';\n\nmodule.exports = function isModern () {\n\tif (typeof Worker != 'undefined' && (window.URL || window.webkitURL)) {\n\t\ttry {\n\t\t\tvar worker = new Worker(functionToObjectURL(function () {}));\n\t\t\tworker.terminate();\n\t\t\treturn true;\n\t\t} catch (error) {}\n\t}\n\n\treturn false;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/isModern.js","module.exports = function functionToObjectURL (func) {\n\tvar blob,\n\t\tstringFunc = func.toString();\n\n\tstringFunc = stringFunc.substring(stringFunc.indexOf('{') + 1, stringFunc.lastIndexOf('}'))\n\n\ttry {\n\t\tblob = new Blob([stringFunc], { 'type' : 'text/javascript' });\n\t} catch (error) { // Backwards-compatibility\n\t\twindow.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n\t\tblob = new BlobBuilder();\n\t\tblob.append(stringFunc);\n\t\tblob = blob.getBlob();\n\t}\n\n\treturn (window.URL || window.webkitURL).createObjectURL(blob);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/client/functionToObjectURL.js","class WorkerManager {\n\tconstructor ($config, WorkerProxies) {\n\t\t$config = $config || {};\n\n\t\tthis.id = ++WorkerManager.managerCount;\n\n\t\tif ($config.workerType === 'worker_threads') {\n\t\t\ttry {\n\t\t\t\trequire('worker_threads');\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Your current version, or configuration of Node.js does not support worker_threads.')\n\t\t\t\tprocess.exit(1);\n\t\t\t}\n\t\t\tthis._WorkerProxy = WorkerProxies.NodeWorkerThread;\n\t\t} else {\n\t\t\tthis._WorkerProxy = WorkerProxies.DefaultWorkerProxy;\n\t\t}\n\n\t\tthis._logger = $config.logger || console.log;\n\n\t\tthis._workerTaskConcurrency = ($config.workerTaskConcurrency || 1) - 1;\n\t\tthis._maxWorkers = $config.maxWorkers || 4;\n\t\tthis._idleTimeout = $config.idleTimeout === false ? false : $config.idleTimeout;\n\t\tthis._taskTimeout = $config.taskTimeout || 0;\n\t\tthis._idleCheckInterval = $config.idleCheckInterval || 1000;\n\t\tthis._warmStart = $config.warmStart || false;\n\t\tthis._globals = $config.globals;\n\t\tthis._globalsInitializationFunction = $config.initialize;\n\t\tthis._debug = $config.debug;\n\t\tthis._log(`creating new pool : ${JSON.stringify($config)}`);\n\n\t\tthis._workers = [];\n\t\tthis._workersInitializing = [];\n\t\tthis._queue = [];\n\t\tthis._onWorkerTaskComplete = this._onWorkerTaskComplete.bind(this);\n\t\tthis._flushIdleWorkers = this._flushIdleWorkers.bind(this);\n\t\tthis._totalWorkersCreated = 0;\n\t\tthis._lastTaskTimeoutCheck = new Date();\n\n\t\tif (this._warmStart) {\n\t\t\tthis._log(`warm starting workers`);\n\n\t\t\tfor (var i = 0; i < this._maxWorkers; i++) {\n\t\t\t\tthis._createWorker();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic managerCount = 0;\n\tstatic taskCount = 0;\n\n\t_log (message) {\n\t\tif (this._debug) {\n\t\t\tthis._logger(`task.js:manager[managerId(${this.id})] ${message}`);\n\t\t}\n\t}\n\n\tgetActiveWorkerCount () {\n\t\treturn this._workersInitializing.length + this._workers.length;\n\t}\n\n\trun (task) {\n\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID !== 'number') {\n\t\t\tthis._idleCheckIntervalID = setInterval(this._flushIdleWorkers, this._idleCheckInterval);\n\t\t}\n\n\t\tif (!task.arguments || typeof task.arguments.length === 'undefined') {\n\t\t\tthrow new Error('task.js: \"arguments\" is required property, and it must be an array/array-like');\n\t\t}\n\n\t\tif (!task.function && (typeof task.function !== 'function' || typeof task.function !== 'string')) {\n\t\t\tthrow new Error('task.js: \"function\" is required property, and it must be a string or a function');\n\t\t}\n\n\t\tif (typeof task.arguments === 'object') {\n\t\t\ttask.arguments = Array.prototype.slice.call(task.arguments);\n\t\t}\n\n\t\ttask.id = ++WorkerManager.taskCount;\n\n\t\tthis._log(`added taskId(${task.id}) to the queue`);\n\n\t\tif (!task.callback) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\ttask.resolve = resolve;\n\t\t\t\ttask.reject = reject;\n\t\t\t\tthis._queue.push(task);\n\t\t\t\tthis._next();\n\t\t\t}.bind(this));\n\t\t} else {\n\t\t\tthis._queue.push(task);\n\t\t\tthis._next();\n\t\t}\n\t}\n\n\tsetGlobals (globals) {\n\t\t// terminate all existing workers\n\t\tthis._workers.forEach(function (worker) {\n\t\t\tworker.terminate();\n\t\t});\n\n\t\t// flush worker pool\n\t\tthis._workers = [];\n\n\t\t// replace globals\n\t\tthis._globals = globals;\n\n\t\tthis._next();\n\t}\n\n\t_runOnWorker(worker, args, func) {\n\t\treturn new Promise (function (resolve, reject) {\n\t\t\tworker.run({\n\t\t\t\tid: ++WorkerManager.taskCount,\n\t\t\t\targuments: args,\n\t\t\t\tfunction: func,\n\t\t\t\tresolve: resolve,\n\t\t\t\treject: reject\n\t\t\t});\n\t\t});\n\t}\n\n\twrap (func, {useTransferables} = {useTransferables: false}) {\n\t\treturn function () {\n\t\t\tvar args = Array.from(arguments),\n\t\t\t\tcallback = null,\n\t\t\t\ttransferables = null;\n\n\t\t\tif (useTransferables) {\n\t\t\t\ttransferables = args.slice(-1)[0];\n\t\t\t\tif (!Array.isArray(transferables)) {\n\t\t\t\t\tthrow new Error('Task expects to be passed a transferables array as its last argument.')\n\t\t\t\t}\n\t\t\t\targs = args.slice(0, -1);\n\t\t\t}\n\n\t\t\tif (typeof args[args.length - 1] === 'function') {\n\t\t\t\t// apparently splice is broken in ie8\n\t\t\t\tcallback = args.slice(-1).pop();\n\t\t\t\targs = args.slice(0, -1);\n\t\t\t}\n\n\t\t\treturn this.run({\n\t\t\t\targuments: args,\n\t\t\t\ttransferables,\n\t\t\t\tfunction: func,\n\t\t\t\tcallback\n\t\t\t});\n\t\t}.bind(this);\n\t}\n\n\tdecorate = (target, key) => {\n\t\ttarget[key] = this.wrap(target[key]);\n\t\treturn target;\n\t}\n\n\tterminate () {\n\t\tthis._log(`terminated`);\n\n\t\t// kill idle timeout (if it exists)\n\t\tif (this._idleTimeout && typeof this._idleCheckIntervalID == 'number') {\n\t\t\tclearInterval(this._idleCheckIntervalID);\n\t\t\tthis._idleCheckIntervalID = null;\n\t\t}\n\n\t\t// terminate all existing workers\n\t\tthis._workers.forEach(function (worker) {\n\t\t\tworker.terminate();\n\t\t});\n\n\t\t// flush worker pool\n\t\tthis._workers = [];\n\t}\n\n\t_reissueTasksInTimedoutWorkers () {\n\t\tif (new Date () - this._lastTaskTimeoutCheck < 5000) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._lastTaskTimeoutCheck = new Date();\n\n\t\tthis._workers.forEach(worker => {\n\t\t\tworker.tasks.some(task => {\n\t\t\t\tif (new Date() - task.startTime >= this._taskTimeout) {\n\t\t\t\t\tworker.forceExit();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t_next = () => {\n\t\tif (this._taskTimeout) {\n\t\t\tthis._reissueTasksInTimedoutWorkers();\n\t\t}\n\n\t\tif (!this._queue.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet worker = this._getWorker();\n\n\t\tif (!worker) {\n\t\t\tsetTimeout(this._next, 0);\n\t\t\treturn;\n\t\t}\n\n\t\tlet task = this._queue.shift();\n\t\tthis._log(`sending taskId(${task.id}) to workerId(${worker.id})`)\n\t\tworker.run(task);\n\t}\n\n\t_onWorkerTaskComplete = () => {\n\t\tthis._next();\n\t}\n\n\t_onWorkerExit = (worker) => {\n\t\tthis._log(`worker died, reissuing task`);\n\n\t\t// purge dead worker from pool\n\t\tthis._workers = this._workers.filter(item => item != worker);\n\n\t\t// add work back to queue\n\t\tworker.tasks.forEach(task => {\n\t\t\tthis._queue.push(task.$options);\n\t\t});\n\n\t\t// run tick\n\t\tthis._next();\n\t}\n\n\t_flushIdleWorkers () {\n\t\tthis._log(`flushing idle workers`);\n\t\tthis._workers = this._workers.filter(function (worker) {\n\t\t\tif (worker.tasks.length === 0 && new Date() - worker.lastTaskTimestamp > this._idleTimeout) {\n\t\t\t\tworker.terminate();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, this);\n\t}\n\n\t_getWorker () {\n\t\tlet idleWorkers = this._workers\n\t\t\t.filter(worker => worker.tasks.length <= this._workerTaskConcurrency)\n\t\t\t.sort((a, b) => a.tasks.length - b.tasks.length);\n\n\t\tif (idleWorkers.length) {\n\t\t\treturn idleWorkers[0];\n\t\t} else if (this._workers.length < this._maxWorkers && this._workersInitializing.length === 0) {\n\t\t\treturn this._createWorker();\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t_createWorker () {\n\t\tvar workerId = ++this._totalWorkersCreated;\n\n\t\tlet worker = new this._WorkerProxy({\n\t\t\tdebug: this._debug,\n\t\t\tlogger: this._logger,\n\t\t\tid: workerId,\n\t\t\tmanagerId: this.id,\n\t\t\tonTaskComplete: this._onWorkerTaskComplete,\n\t\t\tonExit: this._onWorkerExit\n\t\t});\n\n\t\tif (this._globalsInitializationFunction || this._globals) {\n\t\t\tthis._log(`running global initialization code`);\n\t\t\tvar globalsInitializationFunction = `\n\t\t\t\tfunction (_globals) {\n\t\t\t\t\tglobals = (${(this._globalsInitializationFunction || function (globals) {return globals}).toString()})(_globals || {});\n\t\t\t\t}\n\t\t\t`.trim();\n\n\t\t\tthis._workersInitializing.push(worker);\n\t\t\tthis._runOnWorker(worker, [this._globals || {}], globalsInitializationFunction).then(function () {\n\t\t\t\tthis._workersInitializing = this._workersInitializing.filter(item => item != worker);\n\t\t\t\tthis._workers.push(worker);\n\t\t\t}.bind(this));\n\t\t\treturn null;\n\t\t} else {\n\t\t\tthis._workers.push(worker);\n\t\t\treturn worker;\n\t\t}\n\t}\n}\n\nmodule.exports = WorkerManager;\n\n\n// WEBPACK FOOTER //\n// ./src/WorkerManager.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 4\n// module chunks = 0","module.exports = function generateTaskFactoryMethod (defaults, WorkerProxy, WorkerManager) {\n\treturn function ($config, WorkerProxyOverride) {\n\t\tlet config = {};\n\n\t\t// clone defaults\n\t\tObject.keys(defaults).forEach(key => config[key] = defaults[key]);\n\n\t\t// apply user settings\n\t\tObject.keys($config).forEach(key => config[key] = $config[key]);\n\n\t\treturn new WorkerManager(config, WorkerProxyOverride || WorkerProxy);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/generateTaskFactoryMethod.js","import functionToObjectURL from './functionToObjectURL';\nimport GeneralWorker from '../GeneralWorker';\n\nclass WebWorker extends GeneralWorker {\n\tconstructor ($config) {\n\t\tsuper(...arguments);\n\n\t\tthis._worker = new Worker(functionToObjectURL(this.WORKER_SOURCE));\n\t\tthis._worker.addEventListener('message', this._onMessage);\n\n\t\tthis._log(`initialized`);\n\t}\n\n\tWORKER_SOURCE = `function () {\n\t\tonmessage = function (event) {\n\t\t\tvar message = event.data;\n\n\t\t\tvar args = Object.keys(message).filter(function (key) {\n\t\t\t\treturn key.match(/^argument/);\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t}).map(function (key) {\n\t\t\t\treturn message[key];\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tvar result = eval('(' + message.func + ')').apply(null, args);\n\n\t\t\t\tif (typeof Promise != 'undefined' && result instanceof Promise) {\n\t\t\t\t\tresult.then(function (result) {\n\t\t\t\t\t\tpostMessage({id: message.id, result: result});\n\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\tpostMessage({id: message.id, error: error.stack});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tpostMessage({id: message.id, result: result});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tpostMessage({id: message.id, error: error.stack});\n\t\t\t}\n\t\t}\n\t}`;\n\n\t_onMessage = (event) => {\n\t\tlet message = event.data;\n\t\tthis.handleWorkerMessage(message);\n\t}\n\n\tpostMessage = (message, options) => {\n\t\tthis._log(`sending taskId(${message.id}) to worker process`);\n\t\tthis._worker.postMessage(message, options);\n\t}\n\n\tterminate = () => {\n\t\tthis._log(`terminated`);\n\t\tthis._worker.terminate();\n\t}\n}\n\nmodule.exports = WebWorker;\n\n\n// WEBPACK FOOTER //\n// ./src/client/WebWorker.js","class GeneralWorker {\n\tconstructor ($config) {\n\t\tthis.id = $config.id;\n\t\tthis.managerId = $config.managerId;\n\t\tthis._debug = $config.debug;\n\t\tthis._logger = $config.logger;\n\n\t\tthis.tasks = [];\n\t\tthis.lastTaskTimestamp = null;\n\n\t\tthis._onTaskComplete = $config.onTaskComplete;\n\t\tthis._onExitHandler = $config.onExit;\n\t}\n\n\t_log (message) {\n\t\tif (this._debug) {\n\t\t\tthis._logger(`task.js:worker[managerId(${this.managerId}) workerId(${this.id})]: ${message}`);\n\t\t}\n\t}\n\n\thandleWorkerExit = () => {\n\t\tthis._log('killed');\n\t\tthis._onExitHandler(this);\n\t}\n\n\tforceExit = () => {\n\t\tthis._onExit();\n\t\tthis._worker.kill();\n\t}\n\n\thandleWorkerMessage = (message) => {\n\t\tlet taskIndex = null;\n\n\t\tthis.tasks.some(function (task, index) {\n\t\t\tif (message.id === task.id) {\n\t\t\t\ttaskIndex = index;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\n\t\tif (taskIndex !== null) {\n\t\t\tvar task = this.tasks[taskIndex];\n\t\t\tif (message.error) {\n\t\t\t\tthis._log(`taskId(${task.id}) has thrown an error ${message.error}`);\n\t\t\t\tif (task.callback) {\n\t\t\t\t\ttask.callback(new Error(`task.js: ${message.error}`));\n\t\t\t\t} else {\n\t\t\t\t\ttask.reject(new Error(`task.js: ${message.error}`));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._log(`taskId(${task.id}) has completed`);\n\t\t\t\tif (task.callback) {\n\t\t\t\t\ttask.callback(null, message.result);\n\t\t\t\t} else {\n\t\t\t\t\ttask.resolve(message.result);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._onTaskComplete(this);\n\t\t\tthis.tasks.splice(taskIndex, 1);\n\t\t}\n\t}\n\n\trun ($options) {\n\t\tthis.lastTaskTimestamp = new Date();\n\n\t\tlet task = {\n\t\t\tid: $options.id,\n\t\t\tstartTime: new Date(),\n\t\t\tresolve: $options.resolve,\n\t\t\treject: $options.reject,\n\t\t\tcallback: $options.callback,\n\t\t\t$options: $options\n\t\t};\n\n\t\tthis.tasks.push(task);\n\n\t\tlet message = {\n\t\t\tid: task.id,\n\t\t\tfunc: String($options.function)\n\t\t};\n\n\t\t// because of transferables (we want to keep this object flat)\n\t\tObject.keys($options.arguments).forEach(function (key, index) {\n\t\t\tmessage['argument' + index] = $options.arguments[index];\n\t\t});\n\n\t\tthis.postMessage(message, $options.transferables);\n\t}\n\n\t_purgeTasks(reason) {\n\t\tthis.tasks.forEach(task => {\n\t\t\tif (task.callback) {\n\t\t\t\ttask.callback(reason);\n\t\t\t} else {\n\t\t\t\ttask.reject(reason);\n\t\t\t}\n\t\t});\n\t\tthis.tasks = [];\n\t}\n}\n\nmodule.exports = GeneralWorker;\n\n\n// WEBPACK FOOTER //\n// ./src/GeneralWorker.js","import GeneralWorker from '../GeneralWorker';\n\nclass CompatibilityWorker extends GeneralWorker {\n\tconstructor () {\n\t\tsuper(...arguments);\n\n\t\tthis._setTimeoutID = null;\n\t}\n\n\tpostMessage = (message, options) => {\n\t\t// toss it out of the event loop\n\t\tthis._setTimeoutID = setTimeout(() => {\n\t\t\tlet args = Object.keys(message).filter(function (key) {\n\t\t\t\treturn key.match(/^argument/);\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn parseInt(a.slice(8), 10) - parseInt(b.slice(8), 10);\n\t\t\t}).map(function (key) {\n\t\t\t\treturn message[key];\n\t\t\t});\n\n\t\t\tlet functionBody = message.func.substring(message.func.indexOf('{') + 1, message.func.lastIndexOf('}')),\n\t\t\t\targNames = message.func.substring(message.func.indexOf('(') + 1, message.func.indexOf(')')).split(',');\n\n\t\t\tlet func = (new Function(...argNames, functionBody));\n\n\t\t\t// we cant use eval\n\t\t\ttry {\n\t\t\t\tlet result = func(...args);\n\t\t\t\tthis.handleWorkerMessage({id: message.id, result: result});\n\t\t\t} catch (error) {\n\t\t\t\tthis.handleWorkerMessage({id: message.id, 'error': error.stack});\n\t\t\t}\n\t\t}, 1);\n\t}\n\n\tterminate = () => {\n\t\tclearTimeout(this._setTimeoutID);\n\t\tthis._setTimeoutID = null;\n\t}\n}\n\nmodule.exports = CompatibilityWorker;\n\n\n// WEBPACK FOOTER //\n// ./src/client/CompatibilityWorker.js"],"sourceRoot":""}